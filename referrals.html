<!DOCTYPE html>
<html>
<head>
    <title>نظام الإحالات</title>
</head>
<body>
    <h1>إحالة صديق</h1>
    
    <!-- حقل لإدخال اسم المُحال -->
    <input type="text" id="referredUser" placeholder="أدخل اسم المُحال">
    <button onclick="sendReferral()">إرسال الإحالة</button>
    
    <script>
        async function sendReferral() {
            const userId = "USER123"; // استبدلها بـ ID المستخدم الحقيقي
            const referralCode = "REF-" + Math.random().toString(36).substring(2, 6);
            const referredUser = document.getElementById("referredUser").value;
            
            const response = await fetch("https://script.google.com/macros/s/AKfycbywofC_ahqbNunBhrfe8pMUBaKMuF44Ql_53E92sGlD5wvIno9ySMfRnTYGxRiNb6fL7g/exec", {
                method: "POST",
                body: JSON.stringify({
                    userId: userId,
                    referralCode: referralCode,
                    referredUser: referredUser
                }),
                headers: {
                    "Content-Type": "application/json"
                }
            });
            
            const result = await response.text();
            alert(result); // رسالة نجاح أو خطأ
        }
    </script>
</body>
</html>
